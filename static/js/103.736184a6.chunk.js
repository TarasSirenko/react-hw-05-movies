"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[103],{25:function(e,n){var t="bee84003116e0d7efbcdf8ada59f5536",r="https://api.themoviedb.org";var o={fetchTrendingMovie:function(){return fetch("".concat(r,"/3/trending/movie/day?api_key=").concat(t,"&language=en-US")).then((function(e){return e.json()}))},fetchInfoMovieById:function(e){return fetch("".concat(r,"/3/movie/").concat(e,"?api_key=").concat(t,"&language=en-US")).then((function(e){return e.json()}))},fetchCreditsInfoById:function(e){return fetch("".concat(r,"/3/movie/").concat(e,"/credits?api_key=").concat(t,"&language=en-US")).then((function(e){return e.json()}))},fetchReviewsById:function(e){return fetch("".concat(r,"/3/movie/").concat(e,"/reviews?api_key=").concat(t,"&language=en-US")).then((function(e){return e.json()}))},fetchInfoMovieByName:function(e){return fetch("".concat(r,"/3/search/movie?api_key=").concat(t,"&query=").concat(e)).then((function(e){return e.ok||Promise.reject(new Error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435\u0442 \u0444\u0438\u043b\u044c\u043c\u043e\u0432")),e.json()}))}};n.Z=o},665:function(e,n,t){t.d(n,{Z:function(){return a}});var r={link:"MoviesList_link__hO8BB",moviesList:"MoviesList_moviesList__BL7Ze",moviesItem:"MoviesList_moviesItem__8ogzd"},o=t(523),c=t(184);function a(e){var n=e.movies,t=e.query;return n&&0===n.length?(0,c.jsx)("h3",{children:'No movie for "'.concat(t,'", sorry')}):(0,c.jsx)("ul",{className:r.moviesList,children:n&&n.map((function(e){var n=e.title,t=e.id;return(0,c.jsx)(o.rU,{to:"/movies/".concat(t),className:r.link,children:(0,c.jsx)("li",{className:r.moviesItem,children:n})},t)}))})}},103:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(152),o=t(791),c=t(25),a=t(880),i={SearchForm:"SearchForm_SearchForm__zaBM1",SearchFormButton:"SearchForm_SearchFormButton__oQBFJ",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__+cAsa",SearchFormInput:"SearchForm_SearchFormInput__Yndq5"},u=t(7),s=t.n(u);function l(e,n){var t=new URLSearchParams((0,a.TH)().search).get("".concat(e)),c=(0,o.useState)((function(){return t||"".concat(n)})),i=(0,r.Z)(c,2);return[i[0],i[1]]}l.protoTypes={param:s().string,initialValue:s().string};var f=t(184);function h(e){var n=e.handleSubmit,t=l("query",""),o=(0,r.Z)(t,2),c=o[0],u=o[1],s=(0,a.k6)(),h=(0,a.$B)().url;return(0,f.jsxs)("form",{className:i.SearchForm,onSubmit:function(e){e.preventDefault(),n(c),s.push("".concat(h,"?query=").concat(c))},children:[(0,f.jsx)("button",{type:"submit",className:i.SearchFormButton,children:(0,f.jsx)("span",{className:i.SearchFormButtonLabel,children:"Search"})}),(0,f.jsx)("input",{value:c,className:i.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){u(e.currentTarget.value)}})]})}var m=t(665);function v(){var e=l("query",""),n=(0,r.Z)(e,2),t=n[0],a=n[1],i=(0,o.useState)(null),u=(0,r.Z)(i,2),s=u[0],v=u[1];return(0,o.useEffect)((function(){""!==t&&c.Z.fetchInfoMovieByName(t).then((function(e){return v(e.results)}))}),[t]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h,{handleSubmit:function(e){v(null),a(e)}}),s&&(0,f.jsx)(m.Z,{movies:s,query:t})]})}},152:function(e,n,t){function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,c,a,i=[],u=!0,s=!1;try{if(c=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=c.call(t)).done)&&(i.push(r.value),i.length!==n);u=!0);}catch(l){s=!0,o=l}finally{try{if(!u&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(n,{Z:function(){return o}})}}]);
//# sourceMappingURL=103.736184a6.chunk.js.map