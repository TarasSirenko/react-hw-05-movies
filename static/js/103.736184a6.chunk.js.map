{"version":3,"file":"static/js/103.736184a6.chunk.js","mappings":"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","sources":["Api/Api.js","webpack://react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","webpack://react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","hooks/useSearchParams.js","components/SearchForm/SearchForm.js","views/MoviesView.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["const KEY = 'bee84003116e0d7efbcdf8ada59f5536';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nfunction fetchTrendingMovie() {\n  return fetch(\n    `${BASE_URL}/3/trending/movie/day?api_key=${KEY}&language=en-US`,\n  ).then(response => response.json());\n}\nfunction fetchInfoMovieById(id) {\n  return fetch(`${BASE_URL}/3/movie/${id}?api_key=${KEY}&language=en-US`).then(\n    response => response.json(),\n  );\n}\nfunction fetchCreditsInfoById(id) {\n  return fetch(\n    `${BASE_URL}/3/movie/${id}/credits?api_key=${KEY}&language=en-US`,\n  ).then(response => response.json());\n}\nfunction fetchReviewsById(id) {\n  return fetch(\n    `${BASE_URL}/3/movie/${id}/reviews?api_key=${KEY}&language=en-US`,\n  ).then(response => response.json());\n}\nfunction fetchInfoMovieByName(query) {\n  return fetch(`${BASE_URL}/3/search/movie?api_key=${KEY}&query=${query}`).then(\n    response => {\n      if (!response.ok)\n        Promise.reject(new Error('По вашему запросу нет фильмов'));\n      return response.json();\n    },\n  );\n}\n\nconst Api = {\n  fetchTrendingMovie,\n  fetchInfoMovieById,\n  fetchCreditsInfoById,\n  fetchReviewsById,\n  fetchInfoMovieByName,\n};\n\nexport default Api;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MoviesList_link__hO8BB\",\"moviesList\":\"MoviesList_moviesList__BL7Ze\",\"moviesItem\":\"MoviesList_moviesItem__8ogzd\"};","import PropTypes from 'prop-types';\nimport s from './MoviesList.module.css';\nimport { Link } from 'react-router-dom';\n\nexport default function MoviesList({ movies, query }) {\n  if (movies && movies.length === 0) {\n    return <h3>{`No movie for \"${query}\", sorry`}</h3>;\n  }\n  return (\n    <ul className={s.moviesList}>\n      {movies &&\n        movies.map(({ title, id }) => {\n          return (\n            <Link to={`/movies/${id}`} key={id} className={s.link}>\n              <li className={s.moviesItem}>{title}</li>\n            </Link>\n          );\n        })}\n    </ul>\n  );\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object),\n  query: PropTypes.string,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"SearchForm\":\"SearchForm_SearchForm__zaBM1\",\"SearchFormButton\":\"SearchForm_SearchFormButton__oQBFJ\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__+cAsa\",\"SearchFormInput\":\"SearchForm_SearchFormInput__Yndq5\"};","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { useState } from 'react';\n\nexport default function useSearchParams(param, initialValue) {\n  const searchParams = new URLSearchParams(useLocation().search).get(\n    `${param}`,\n  );\n  const [query, setQuery] = useState(() =>\n    searchParams ? searchParams : `${initialValue}`,\n  );\n  return [query, setQuery];\n}\n\nuseSearchParams.protoTypes = {\n  param: PropTypes.string,\n  initialValue: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport s from './SearchForm.module.css';\nimport useSearchParams from 'hooks/useSearchParams';\n\nexport default function SearchForm({ handleSubmit }) {\n  const [query, setQuery] = useSearchParams('query', '');\n  const history = useHistory();\n  const { url } = useRouteMatch();\n\n  const onSubmit = e => {\n    e.preventDefault();\n    handleSubmit(query);\n    history.push(`${url}?query=${query}`);\n  };\n  const changeInpntValue = e => {\n    setQuery(e.currentTarget.value);\n  };\n  return (\n    <form className={s.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={s.SearchFormButton}>\n        <span className={s.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        value={query}\n        className={s.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={changeInpntValue}\n      />\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport Api from 'Api/Api';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport useSearchParams from 'hooks/useSearchParams';\n\nexport default function MoviesView() {\n  const [query, setQuery] = useSearchParams('query', '');\n  const [movies, setMovies] = useState(null);\n\n  const onSubmit = cerrentQuery => {\n    setMovies(null);\n    setQuery(cerrentQuery);\n  };\n  useEffect(() => {\n    if (query === '') return;\n\n    Api.fetchInfoMovieByName(query).then(response =>\n      setMovies(response.results),\n    );\n  }, [query]);\n\n  return (\n    <>\n      <SearchForm handleSubmit={onSubmit} />\n      {movies && <MoviesList movies={movies} query={query} />}\n    </>\n  );\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["KEY","BASE_URL","Api","fetchTrendingMovie","fetch","concat","then","response","json","fetchInfoMovieById","id","fetchCreditsInfoById","fetchReviewsById","fetchInfoMovieByName","query","ok","Promise","reject","Error","MoviesList","_ref","movies","length","_jsx","children","className","s","map","_ref2","title","Link","to","useSearchParams","param","initialValue","searchParams","URLSearchParams","useLocation","search","get","_useState","useState","_useState2","_slicedToArray","protoTypes","PropTypes","SearchForm","handleSubmit","_useSearchParams","_useSearchParams2","setQuery","history","useHistory","url","useRouteMatch","_jsxs","onSubmit","e","preventDefault","push","type","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","MoviesView","setMovies","useEffect","results","_Fragment","cerrentQuery","_arrayLikeToArray","arr","len","i","arr2","Array","isArray","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","done","err","o","minLen","n","prototype","toString","slice","constructor","name","from","test","TypeError"],"sourceRoot":""}